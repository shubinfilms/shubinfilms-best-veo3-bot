"""Static content and keyboards for the multi-section FAQ."""
from __future__ import annotations

from typing import Dict

from telegram import InlineKeyboardMarkup

from telegram_utils import build_inline_kb

FAQ_ROOT_TEXT = "🧾 FAQ\nВыберите раздел:"

_FAQ_BACK_ROWS = (
    (("⬅️ Назад", "faq:root"), ("🏠 Меню бота", "faq:home")),
)

_FAQ_MAIN_ROWS = (
    (("🎬 Видео (VEO)", "faq:veo"), ("🎨 Изображения (MJ)", "faq:mj")),
    (("🧩 Banana", "faq:banana"), ("🎵 Музыка (Suno)", "faq:suno")),
    (("💎 Баланс и оплата", "faq:billing"), ("⚡ Токены и возвраты", "faq:refunds")),
    (("💬 Обычный чат", "faq:chat"), ("🧠 Prompt-Master", "faq:pm")),
    (("ℹ️ Общие вопросы", "faq:general"), ("⬅️ Назад (в главное меню бота)", "faq:home")),
)

FAQ_SECTIONS: Dict[str, Dict[str, str]] = {
    "veo": {
        "title": "🎬 Видео (VEO)",
        "text": (
            "🎬 Видео (VEO)\n"
            "\n"
            "Как начать\n"
            "• Выберите Veo Fast или Veo Quality\n"
            "• Пришлите идею текстом и/или фото\n"
            "• Карточка откроется автоматически — проверьте параметры и жмите «🚀 Сгенерировать»\n"
            "\n"
            "Fast vs Quality\n"
            "• Fast — быстрее и дешевле (2–5 мин)\n"
            "• Quality — дольше (5–10 мин), но лучше детализация\n"
            "\n"
            "Результат\n"
            "• Готовый клип загружается в чат как mp4\n"
            "\n"
            "Ошибки/таймаут\n"
            "• При технической ошибке или таймауте бот автоматически возвращает 💎"
        ),
    },
    "mj": {
        "title": "🎨 Изображения (MJ)",
        "text": (
            "🎨 Изображения (MJ)\n"
            "\n"
            "Стоимость\n"
            "• 10 💎 за 1 изображение\n"
            "\n"
            "Как пользоваться\n"
            "• Пришлите текстовую идею\n"
            "• При сетевой ошибке доступен один бесплатный перезапуск\n"
            "\n"
            "Выход\n"
            "• 4 изображения одним альбомом (подпись только у первого кадра)"
        ),
    },
    "banana": {
        "title": "🧩 Banana (редактирование фото)",
        "text": (
            "🧩 Banana (редактирование фото)\n"
            "\n"
            "Что умеет\n"
            "• До 4 фото и затем текст: фон, одежда, макияж, удаление объектов, объединение людей\n"
            "\n"
            "Сколько ждать\n"
            "• Обычно 1–5 мин (может быть дольше при нагрузке)\n"
            "\n"
            "Выход\n"
            "• Фото с подписью + «Документ» с оригиналом без сжатия"
        ),
    },
    "suno": {
        "title": "🎵 Музыка (Suno)",
        "text": (
            "🎵 Музыка (Suno)\n"
            "\n"
            "Что делает\n"
            "• Генерирует музыку по описанию: стиль, инструментал/вокал, настроение\n"
            "\n"
            "Ожидание\n"
            "• Обычно 1–3 мин\n"
            "\n"
            "Если зависло\n"
            "• При технической ошибке бот автоматически возвращает 💎"
        ),
    },
    "billing": {
        "title": "💎 Баланс и оплата",
        "text": (
            "💎 Баланс и оплата\n"
            "\n"
            "Как пополнить\n"
            "• Через Stars в меню\n"
            "• Где купить: PremiumBot\n"
            "\n"
            "Проверить баланс\n"
            "• Команда /my_balance\n"
            "\n"
            "Пригласить друга\n"
            "• Кнопка «Пригласить друга» в меню баланса"
        ),
    },
    "refunds": {
        "title": "⚡ Токены и возвраты",
        "text": (
            "⚡ Токены и возвраты\n"
            "\n"
            "Когда списываются\n"
            "• При старте задачи\n"
            "\n"
            "Возвраты\n"
            "• При технической ошибке/таймауте 💎 возвращаются автоматически\n"
            "\n"
            "Ручные возвраты\n"
            "• Не предусмотрены — только при тех. проблеме"
        ),
    },
    "chat": {
        "title": "💬 Обычный чат",
        "text": (
            "💬 Обычный чат\n"
            "\n"
            "Что это\n"
            "• Диалог с ИИ с памятью контекста (автообрезка)\n"
            "\n"
            "Быстрые команды\n"
            "• /chat — включить чат\n"
            "• /reset — очистить контекст\n"
            "• /history — последние 5 реплик\n"
            "\n"
            "Ввод\n"
            "• Текст или голосовые (бот распознаёт и отвечает текстом)"
        ),
    },
    "pm": {
        "title": "🧠 Prompt-Master",
        "text": (
            "🧠 Prompt-Master\n"
            "\n"
            "Назначение\n"
            "• Делает кинематографичные промпты для видео/изображений/музыки\n"
            "\n"
            "Как пользоваться\n"
            "• Нажмите Prompt-Master в меню и следуйте подсказкам\n"
            "\n"
            "Зачем\n"
            "• Для быстрых качественных идей, когда «не знаешь с чего начать»"
        ),
    },
    "general": {
        "title": "ℹ️ Общие вопросы",
        "text": (
            "ℹ️ Общие вопросы\n"
            "\n"
            "Сколько ждать\n"
            "• VEO: 2–10 мин, MJ: 1–3 мин, Banana: 1–5 мин, Suno: 1–3 мин\n"
            "(при нагрузке может быть дольше)\n"
            "\n"
            "Примеры и идеи\n"
            "• Канал: bestveo3promts\n"
            "\n"
            "Поддержка\n"
            "• @shubinfilms"
        ),
    },
}


def faq_main_kb() -> InlineKeyboardMarkup:
    return build_inline_kb(_FAQ_MAIN_ROWS)


def faq_back_kb() -> InlineKeyboardMarkup:
    return build_inline_kb(_FAQ_BACK_ROWS)


__all__ = ["FAQ_ROOT_TEXT", "FAQ_SECTIONS", "faq_main_kb", "faq_back_kb"]
